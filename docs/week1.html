<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 1 Week 1: A Primer on Using Text as Data | PS9594: Computational Text Analysis</title>
<meta name="author" content="Dr. Sebastián Vallejo Vera | Western University">
<meta name="description" content="Slides 1 Introduction to CTA (link 2 Why Computational Text Analysis? (link   1.1 Setup For this first example, we will replicate (and extend) Mendenhall’s (1887) and Mendenhall’s (1901) studies...">
<meta name="generator" content="bookdown 0.46 with bs4_book()">
<meta property="og:title" content="Chapter 1 Week 1: A Primer on Using Text as Data | PS9594: Computational Text Analysis">
<meta property="og:type" content="book">
<meta property="og:description" content="Slides 1 Introduction to CTA (link 2 Why Computational Text Analysis? (link   1.1 Setup For this first example, we will replicate (and extend) Mendenhall’s (1887) and Mendenhall’s (1901) studies...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 1 Week 1: A Primer on Using Text as Data | PS9594: Computational Text Analysis">
<meta name="twitter:description" content="Slides 1 Introduction to CTA (link 2 Why Computational Text Analysis? (link   1.1 Setup For this first example, we will replicate (and extend) Mendenhall’s (1887) and Mendenhall’s (1901) studies...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.9.0/transition.js"></script><script src="libs/bs3compat-0.9.0/tabs.js"></script><script src="libs/bs3compat-0.9.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">PS9594: Computational Text Analysis</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">“Computational Text Analysis”</a></li>
<li><a class="" href="readings.html">Reading List</a></li>
<li><a class="" href="assignments.html">Assignments</a></li>
<li><a class="" href="replication.html">Replication Exercise</a></li>
<li><a class="" href="final_paper.html">Final Paper</a></li>
<li><a class="active" href="week1.html"><span class="header-section-number">1</span> Week 1: A Primer on Using Text as Data</a></li>
<li><a class="" href="week2.html"><span class="header-section-number">2</span> Week 2: Tokenization and Word Frequency</a></li>
<li><a class="" href="week3.html"><span class="header-section-number">3</span> Week 3: Dictionary-Based Approaches</a></li>
<li><a class="" href="week4.html"><span class="header-section-number">4</span> Week 4: Complexity and Similarity</a></li>
<li><a class="" href="week5.html"><span class="header-section-number">5</span> Week 5: Scaling Techniques (Unsupervised Learning I)</a></li>
<li><a class="" href="week6.html"><span class="header-section-number">6</span> Week 6: Topic Modeling (Unsupervised Learning II)</a></li>
<li><a class="" href="week7.html"><span class="header-section-number">7</span> Week 7: A Primer on Supervised Learning</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/svallejovera/cta_updated">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="week1" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> Week 1: A Primer on Using Text as Data<a class="anchor" aria-label="anchor" href="#week1"><i class="fas fa-link"></i></a>
</h1>
<div id="slides" class="section level2 unnumbered">
<h2>Slides<a class="anchor" aria-label="anchor" href="#slides"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>1 Introduction to CTA (<a href="https://github.com/svallejovera/cta_updated/blob/main/slides/1%20Introduction%20to%20CTA.pptx">link</a>
</li>
<li>2 Why Computational Text Analysis? (<a href="https://github.com/svallejovera/cta_updated/blob/main/slides/2%20Why%20Computational%20Text%20Analysis.pptx">link</a>
</li>
</ul>
</div>
<div id="setup" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Setup<a class="anchor" aria-label="anchor" href="#setup"><i class="fas fa-link"></i></a>
</h2>
<p>For this first example, we will replicate (and extend) Mendenhall’s (1887) and Mendenhall’s (1901) studies of word-length distribution.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:curve"></span>
<img src="images/curve.png" alt="From Mendenhall (1987) - The Characteristic Curves of Composition." width="65%"><p class="caption">
Figure 1.1: From Mendenhall (1987) - The Characteristic Curves of Composition.
</p>
</div>
<p>First we load the packages that we’ll be using:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span> <span class="co"># for wrangling data</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/elbersb/tidylog/">tidylog</a></span><span class="op">)</span> <span class="co"># to know what we are wrangling</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://juliasilge.github.io/tidytext/">tidytext</a></span><span class="op">)</span> <span class="co"># for 'tidy' manipulation of text data</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/karthik/wesanderson">wesanderson</a></span><span class="op">)</span> <span class="co"># to prettify</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/gutenbergr/">gutenbergr</a></span><span class="op">)</span> <span class="co"># to get some books</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/">kableExtra</a></span><span class="op">)</span> <span class="co"># for displaying data in html format (relevant for formatting this worksheet mainly)</span></span></code></pre></div>
</div>
<div id="get-data" class="section level2" number="1.2">
<h2>
<span class="header-section-number">1.2</span> Get Data<a class="anchor" aria-label="anchor" href="#get-data"><i class="fas fa-link"></i></a>
</h2>
<p>Mendenhall (1887) argued that “every writer makes use of a vocabulary which is peculiar to himself, and the character of which does not materially change from year to year during his productive [years],” and that one of these characteristics was word length. Mendenhall (1901) takes this further and suggests that, given this assumption, Shakespeare and Bacon were <em>not</em> the same person<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;These studies were published in &lt;em&gt;Science&lt;/em&gt; and &lt;em&gt;Popular Science Monthly&lt;/em&gt;!&lt;/p&gt;"><sup>1</sup></a>.</p>
<p>Let’s get a corpus–a collection of documents–that we can analyze. We can search the Gutenberg repository and create a corpus with selected works.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Inspect Project Gutenberg metadata to find all texts authored by Oscar Wilde.</span></span>
<span><span class="co"># This returns a table of matching Gutenberg entries (including IDs you can use to download texts).</span></span>
<span><span class="va">gutenberg_metadata</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="va">author</span> <span class="op">==</span> <span class="st">"Wilde, Oscar"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 67 × 8
##    gutenberg_id title                 author gutenberg_author_id language
##           &lt;int&gt; &lt;chr&gt;                 &lt;chr&gt;                &lt;int&gt; &lt;fct&gt;   
##  1          174 The Picture of Doria… Wilde…                 111 en      
##  2          301 The Ballad of Readin… Wilde…                 111 en      
##  3          773 Lord Arthur Savile's… Wilde…                 111 en      
##  4          774 Essays and Lectures   Wilde…                 111 en      
##  5          790 Lady Windermere's Fan Wilde…                 111 en      
##  6          844 The Importance of Be… Wilde…                 111 en      
##  7          854 A Woman of No Import… Wilde…                 111 en      
##  8          873 A House of Pomegrana… Wilde…                 111 en      
##  9          875 The Duchess of Padua  Wilde…                 111 en      
## 10          885 An Ideal Husband      Wilde…                 111 en      
## # ℹ 57 more rows
## # ℹ 3 more variables: gutenberg_bookshelf &lt;chr&gt;, rights &lt;fct&gt;,
## #   has_text &lt;lgl&gt;</code></pre>
</div>
<div id="word-length-in-wildes-corpus" class="section level2" number="1.3">
<h2>
<span class="header-section-number">1.3</span> Word Length in Wilde’s Corpus<a class="anchor" aria-label="anchor" href="#word-length-in-wildes-corpus"><i class="fas fa-link"></i></a>
</h2>
<p>That’s a lot of Wilde! Let’s focus on four plays: “The Importance of Being Earnest”, “A Woman of No Importance”, “Lady Windermere’s Fan”, and “An Ideal Husband”. We can download all of these plays using their Gutenberg ID numbers:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Download four Oscar Wilde plays from Project Gutenberg using their Gutenberg IDs.</span></span>
<span><span class="co"># The IDs correspond to specific texts in the Gutenberg catalog.</span></span>
<span><span class="co"># `meta_fields` appends the requested metadata (here: title and author) to each row of text.</span></span>
<span><span class="va">wilde</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/gutenbergr/reference/gutenberg_download.html">gutenberg_download</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">790</span>, <span class="fl">844</span>, <span class="fl">854</span>, <span class="fl">885</span><span class="op">)</span>,</span>
<span>  meta_fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"title"</span>, <span class="st">"author"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Quick inspection: print rows 51–75 (often useful for seeing the structure of the raw text)</span></span>
<span><span class="co"># and show up to 25 rows in the console output.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">25</span>, <span class="va">wilde</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">51</span><span class="op">:</span><span class="fl">75</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 25 × 4
##    gutenberg_id text                                        title  author
##           &lt;int&gt; &lt;chr&gt;                                       &lt;chr&gt;  &lt;chr&gt; 
##  1          790 ""                                          Lady … Wilde…
##  2          790 ""                                          Lady … Wilde…
##  3          790 "THE PERSONS OF THE PLAY"                   Lady … Wilde…
##  4          790 ""                                          Lady … Wilde…
##  5          790 ""                                          Lady … Wilde…
##  6          790 "Lord Windermere"                           Lady … Wilde…
##  7          790 ""                                          Lady … Wilde…
##  8          790 "Lord Darlington"                           Lady … Wilde…
##  9          790 ""                                          Lady … Wilde…
## 10          790 "Lord Augustus Lorton"                      Lady … Wilde…
## 11          790 ""                                          Lady … Wilde…
## 12          790 "Mr. Dumby"                                 Lady … Wilde…
## 13          790 ""                                          Lady … Wilde…
## 14          790 "Mr. Cecil Graham"                          Lady … Wilde…
## 15          790 ""                                          Lady … Wilde…
## 16          790 "Mr. Hopper"                                Lady … Wilde…
## 17          790 ""                                          Lady … Wilde…
## 18          790 "Parker, Butler"                            Lady … Wilde…
## 19          790 ""                                          Lady … Wilde…
## 20          790 "                                * * * * *" Lady … Wilde…
## 21          790 ""                                          Lady … Wilde…
## 22          790 "Lady Windermere"                           Lady … Wilde…
## 23          790 ""                                          Lady … Wilde…
## 24          790 "The Duchess of Berwick"                    Lady … Wilde…
## 25          790 ""                                          Lady … Wilde…</code></pre>
<p>In this case, the unit of analysis is something like a line. We are interested in each word–also known as a token–and its length <em>within each play</em>. We will clean some unwanted text–text that would only add noise to our analysis–and then count the number of words.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wilde</span> <span class="op">&lt;-</span> <span class="va">wilde</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Standardize the title for "The Importance of Being Earnest"</span></span>
<span>  <span class="co"># (Gutenberg titles can vary slightly across editions/records).</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html">str_detect</a></span><span class="op">(</span><span class="va">title</span>, <span class="st">"Importance of Being"</span><span class="op">)</span>,</span>
<span>      <span class="st">"The Importance of Being Earnest"</span>,</span>
<span>      <span class="va">title</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Remove empty lines (blank rows add noise and can affect tokenization/counts).</span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="va">text</span> <span class="op">!=</span> <span class="st">""</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Remove speaker labels typical of plays (often written in ALL CAPS).</span></span>
<span>  <span class="co"># This keeps primarily spoken text rather than character-name headers.</span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html">str_detect</a></span><span class="op">(</span><span class="va">text</span>, <span class="st">"[A-Z]{3,}"</span><span class="op">)</span> <span class="op">==</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code>## mutate: changed 3,884 values (27%) of 'title' (0 new NAs)
## filter: removed 4,232 rows (29%), 10,303 rows remaining
## filter: removed 4,207 rows (41%), 6,096 rows remaining</code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Inspect a slice of the cleaned text to confirm the filters behaved as expected.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">25</span>, <span class="va">wilde</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">51</span><span class="op">:</span><span class="fl">75</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 25 × 4
##    gutenberg_id text                                         title author
##           &lt;int&gt; &lt;chr&gt;                                        &lt;chr&gt; &lt;chr&gt; 
##  1          790 "tea-table L._  _Window opening on to terra… Lady… Wilde…
##  2          790 "home to any one who calls."                 Lady… Wilde…
##  3          790 "                                          … Lady… Wilde…
##  4          790 "he’s come."                                 Lady… Wilde…
##  5          790 "hands with you.  My hands are all wet with… Lady… Wilde…
##  6          790 "lovely?  They came up from Selby this morn… Lady… Wilde…
##  7          790 "table_.]  And what a wonderful fan!  May I… Lady… Wilde…
##  8          790 "everything.  I have only just seen it myse… Lady… Wilde…
##  9          790 "present to me.  You know to-day is my birt… Lady… Wilde…
## 10          790 "life, isn’t it?  That is why I am giving t… Lady… Wilde…
## 11          790 "down.  [_Still arranging flowers_.]"        Lady… Wilde…
## 12          790 "birthday, Lady Windermere.  I would have c… Lady… Wilde…
## 13          790 "front of your house with flowers for you t… Lady… Wilde…
## 14          790 "you."                                       Lady… Wilde…
## 15          790 "                                          … Lady… Wilde…
## 16          790 "Foreign Office.  I am afraid you are going… Lady… Wilde…
## 17          790 "with her pocket-handkerchief_, _goes to te… Lady… Wilde…
## 18          790 "Won’t you come over, Lord Darlington?"      Lady… Wilde…
## 19          790 "miserable, Lady Windermere.  You must tell… Lady… Wilde…
## 20          790 "table L._]"                                 Lady… Wilde…
## 21          790 "whole evening."                             Lady… Wilde…
## 22          790 "that the only pleasant things to pay _are_… Lady… Wilde…
## 23          790 "things we _can_ pay."                       Lady… Wilde…
## 24          790 "You mustn’t laugh, I am quite serious.  I … Lady… Wilde…
## 25          790 "don’t see why a man should think he is ple… Lady… Wilde…</code></pre>
<p>Now, we can change our unit of analysis to the <strong>token</strong>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wilde_words</span> <span class="op">&lt;-</span> <span class="va">wilde</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Tokenize: split the `text` column into one word per row.</span></span>
<span>  <span class="co"># The output column is named `word`; punctuation is removed and words are lowercased by default.</span></span>
<span>  <span class="fu"><a href="https://juliasilge.github.io/tidytext/reference/unnest_tokens.html">unnest_tokens</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">text</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Remove underscores (some Gutenberg texts include formatting artifacts like "_" that add noise).</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>word <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html">str_remove_all</a></span><span class="op">(</span><span class="va">word</span>, <span class="st">"\\_"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## mutate: changed 1,225 values (2%) of 'word' (0 new NAs)</code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View the tokenized dataset (one row per token, with title/author carried along).</span></span>
<span><span class="va">wilde_words</span></span></code></pre></div>
<pre><code>## # A tibble: 60,477 × 4
##    gutenberg_id title                 author       word     
##           &lt;int&gt; &lt;chr&gt;                 &lt;chr&gt;        &lt;chr&gt;    
##  1          790 Lady Windermere's Fan Wilde, Oscar by       
##  2          790 Lady Windermere's Fan Wilde, Oscar sixteenth
##  3          790 Lady Windermere's Fan Wilde, Oscar edition  
##  4          790 Lady Windermere's Fan Wilde, Oscar first    
##  5          790 Lady Windermere's Fan Wilde, Oscar published
##  6          790 Lady Windermere's Fan Wilde, Oscar 1893     
##  7          790 Lady Windermere's Fan Wilde, Oscar first    
##  8          790 Lady Windermere's Fan Wilde, Oscar issued   
##  9          790 Lady Windermere's Fan Wilde, Oscar by       
## 10          790 Lady Windermere's Fan Wilde, Oscar methuen  
## # ℹ 60,467 more rows</code></pre>
<p>That’s a lot of words! We will now create a column for word length, and then count the number of words by length (by play!).</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wilde_words_ct</span> <span class="op">&lt;-</span> <span class="va">wilde_words</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Compute the length (number of characters) of each token</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>word_length <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_length.html">str_length</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Group by play title and word length to build the word-length distribution</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">word_length</span>, <span class="va">title</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Count how many tokens fall into each (word_length, title) bin</span></span>
<span>  <span class="co"># (n() returns the group size; mutate repeats it on every row in the group)</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>total_word_length <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Keep a single row per (word_length, title) combination</span></span>
<span>  <span class="fu">distinct</span><span class="op">(</span><span class="va">word_length</span>, <span class="va">title</span>, .keep_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Keep only the variables needed for plotting/inspection</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">word_length</span>, <span class="va">title</span>, <span class="va">author</span>, <span class="va">total_word_length</span><span class="op">)</span></span></code></pre></div>
<pre><code>## mutate: new variable 'word_length' (integer) with 17 unique values and 0% NA
## group_by: 2 grouping variables (word_length, title)
## mutate (grouped): new variable 'total_word_length' (integer) with 58 unique values and 0% NA
## distinct (grouped): removed 60,415 rows (&gt;99%), 62 rows remaining (removed 0 groups, 62 groups remaining)</code></pre>
<p>Let’s see the distribution of word length by play:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wilde_words_ct</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Plot the word-length distribution for each play</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">word_length</span>, y <span class="op">=</span> <span class="va">total_word_length</span>, color <span class="op">=</span> <span class="va">title</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Points show observed counts at each word length</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Lines connect points to make the distribution shape easier to see</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Use a Wes Anderson palette for play colors</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/wesanderson/man/wes_palette.html">wes_palette</a></span><span class="op">(</span><span class="st">"Royal2"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Clean, minimal theme</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Place legend on the right for readability</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Axis labels (x = word length in characters; y = number of tokens of that length)</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Length"</span>, y <span class="op">=</span> <span class="st">"Total Number of Words"</span>, color <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="main_files/figure-html/unnamed-chunk-7-1.png" alt="" width="672"></div>
<p>This is a problem. <em>Why?</em></p>
<p>Here is a solution (proposed by Mendenhall):</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wilde_words</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Work within each play separately</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">title</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Take an equal-sized random sample of tokens from each play</span></span>
<span>  <span class="co"># (this makes the resulting distributions comparable across plays)</span></span>
<span>  <span class="fu">slice_sample</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Compute word length for each token, and the median word length within each play (on the sampled data)</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    word_length <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_length.html">str_length</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span>,</span>
<span>    median_word_length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">word_length</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Count how many sampled tokens fall into each word-length bin, within each play</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">word_length</span>, <span class="va">title</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>total_word_length <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Keep one row per (word_length, title) combination for plotting</span></span>
<span>  <span class="fu">distinct</span><span class="op">(</span><span class="va">word_length</span>, <span class="va">title</span>, .keep_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Keep relevant columns (median_word_length is repeated but useful for plotting the median line)</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">word_length</span>, <span class="va">title</span>, <span class="va">author</span>, <span class="va">total_word_length</span>, <span class="va">median_word_length</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Plot the sampled word-length distributions</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">word_length</span>, y <span class="op">=</span> <span class="va">total_word_length</span>, color <span class="op">=</span> <span class="va">title</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Add a vertical line at each play's median word length</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">median_word_length</span>, color <span class="op">=</span> <span class="va">title</span>, linetype <span class="op">=</span> <span class="va">title</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/wesanderson/man/wes_palette.html">wes_palette</a></span><span class="op">(</span><span class="st">"Royal2"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Length"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Total Number of Words"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">""</span>,</span>
<span>    linetype <span class="op">=</span> <span class="st">""</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Note: Line type shows median word length."</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<pre><code>## group_by: one grouping variable (title)
## slice_sample (grouped): removed 20,477 rows (34%), 40,000 rows remaining (removed 0 groups, 4 groups remaining)
## mutate (grouped): new variable 'word_length' (integer) with 17 unique values and 0% NA
##                   new variable 'median_word_length' (double) with one unique value and 0% NA
## group_by: 2 grouping variables (word_length, title)
## mutate (grouped): new variable 'total_word_length' (integer) with 55 unique values and 0% NA
## distinct (grouped): removed 39,941 rows (&gt;99%), 59 rows remaining (removed 0 groups, 59 groups remaining)</code></pre>
<div class="inline-figure"><img src="main_files/figure-html/unnamed-chunk-8-1.png" alt="" width="672"></div>
<p>Would you look at that, Mendenhall was onto something: an author may have a <em>signature</em> in terms of word-length distribution. For Wilde, there is no obvious change across time (each play was published in a different year). But what happens when we compare Wilde’s signature with Shakespeare’s? Let’s choose four plays (at random) by Shakespeare: <em>A Midsummer Night’s Dream</em>, <em>The Merchant of Venice</em>, <em>Much Ado About Nothing</em>, and <em>The Tempest</em>.</p>
</div>
<div id="comparing-shakespeare-and-wilde" class="section level2" number="1.4">
<h2>
<span class="header-section-number">1.4</span> Comparing Shakespeare and Wilde<a class="anchor" aria-label="anchor" href="#comparing-shakespeare-and-wilde"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">shakes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/gutenbergr/reference/gutenberg_download.html">gutenberg_download</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1520</span>,<span class="fl">2242</span>,<span class="fl">2243</span>,<span class="fl">2235</span><span class="op">)</span>,</span>
<span>                             meta_fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"title"</span>,<span class="st">"author"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">25</span>,<span class="va">shakes</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">51</span><span class="op">:</span><span class="fl">75</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 25 × 4
##    gutenberg_id text                                         title author
##           &lt;int&gt; &lt;chr&gt;                                        &lt;chr&gt; &lt;chr&gt; 
##  1         1520 "[Enter Leonato, Hero, Beatrice, and others… Much… Shake…
##  2         1520 ""                                           Much… Shake…
##  3         1520 "Leon."                                      Much… Shake…
##  4         1520 "I learn in this letter, that Don Pedro of … Much… Shake…
##  5         1520 "night to Messina."                          Much… Shake…
##  6         1520 ""                                           Much… Shake…
##  7         1520 "Mess."                                      Much… Shake…
##  8         1520 "He is very near by this; he was not three … Much… Shake…
##  9         1520 "left him."                                  Much… Shake…
## 10         1520 ""                                           Much… Shake…
## 11         1520 "Leon."                                      Much… Shake…
## 12         1520 "How many gentlemen have you lost in this a… Much… Shake…
## 13         1520 ""                                           Much… Shake…
## 14         1520 "Mess."                                      Much… Shake…
## 15         1520 "But few of any sort, and none of name."     Much… Shake…
## 16         1520 ""                                           Much… Shake…
## 17         1520 "Leon."                                      Much… Shake…
## 18         1520 "A victory is twice itself when the achieve… Much… Shake…
## 19         1520 "numbers.  I find here that Don Pedro hath … Much… Shake…
## 20         1520 "a young Florentine, called Claudio."        Much… Shake…
## 21         1520 ""                                           Much… Shake…
## 22         1520 "Mess."                                      Much… Shake…
## 23         1520 "Much deserved on his part, and equally rem… Much… Shake…
## 24         1520 "He hath borne himself beyond the promise o… Much… Shake…
## 25         1520 "in the figure of a lamb, the feats of a li… Much… Shake…</code></pre>
<p>This text is cleaner than Wilde’s corpus, so we will leave it as is. Also, it is harder to systematically remove the name of the person speaking. <strong>Is this a problem? Why? Why not?</strong></p>
<p>We can put together both corpora and see differences in the distributions of word length.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">shakes_words</span> <span class="op">&lt;-</span> <span class="va">shakes</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Filter out all empty rows</span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="va">text</span> <span class="op">!=</span> <span class="st">""</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># This is a play. The name of each character before they speak </span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html">str_detect</a></span><span class="op">(</span><span class="va">text</span>,<span class="st">"[A-Z]{3,}"</span><span class="op">)</span><span class="op">==</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># take the column text and divide it by words</span></span>
<span>  <span class="fu"><a href="https://juliasilge.github.io/tidytext/reference/unnest_tokens.html">unnest_tokens</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">text</span><span class="op">)</span> </span></code></pre></div>
<pre><code>## filter: removed 2,582 rows (23%), 8,821 rows remaining
## filter: removed 28 rows (&lt;1%), 8,793 rows remaining</code></pre>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Bind both word dfs</span></span>
<span><span class="va">words</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind.data.frame</a></span><span class="op">(</span><span class="va">shakes_words</span>,<span class="va">wilde_words</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Count words etc.</span></span>
<span><span class="va">words</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">title</span>,<span class="va">author</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">slice_sample</span><span class="op">(</span>n<span class="op">=</span><span class="fl">10000</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>word_length <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_length.html">str_length</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span>,</span>
<span>         median_word_length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">word_length</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">word_length</span>,<span class="va">title</span>,<span class="va">author</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>total_word_length <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">distinct</span><span class="op">(</span><span class="va">word_length</span>,<span class="va">title</span>,.keep_all<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">word_length</span>,<span class="va">title</span>,<span class="va">author</span>,<span class="va">total_word_length</span>,<span class="va">median_word_length</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">total_word_length</span>,x<span class="op">=</span><span class="va">word_length</span>,color<span class="op">=</span><span class="va">author</span>,group<span class="op">=</span><span class="va">title</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/wesanderson/man/wes_palette.html">wes_palette</a></span><span class="op">(</span><span class="st">"Royal2"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># facet_wrap(~author, ncol = 2)+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"Length"</span>, y <span class="op">=</span> <span class="st">"Total Number of Words"</span>, color <span class="op">=</span> <span class="st">""</span>, linetype <span class="op">=</span> <span class="st">""</span>,</span>
<span>       caption <span class="op">=</span> <span class="st">"Note: Median word length is 4 for both authors."</span><span class="op">)</span></span></code></pre></div>
<pre><code>## group_by: 2 grouping variables (title, author)
## slice_sample (grouped): removed 53,665 rows (43%), 70,000 rows remaining (removed 0 groups, 7 groups remaining)
## mutate (grouped): new variable 'word_length' (integer) with 17 unique values and 0% NA
##                   new variable 'median_word_length' (double) with one unique value and 0% NA
## group_by: 3 grouping variables (word_length, title, author)
## mutate (grouped): new variable 'total_word_length' (integer) with 92 unique values and 0% NA
## distinct (grouped): removed 69,896 rows (&gt;99%), 104 rows remaining (removed 0 groups, 104 groups remaining)
## Ignoring unknown labels:
## • linetype : ""</code></pre>
<div class="inline-figure"><img src="main_files/figure-html/unnamed-chunk-10-1.png" alt="" width="672"></div>
<p>Are there any differences? What can we conclude from the evidence? What are the limitations of this approach? Are there alternative approaches to study what Mendenhall was getting at?</p>
</div>
<div id="exercise-optional" class="section level2" number="1.5">
<h2>
<span class="header-section-number">1.5</span> Exercise (Optional)<a class="anchor" aria-label="anchor" href="#exercise-optional"><i class="fas fa-link"></i></a>
</h2>
<ol style="list-style-type: decimal">
<li>Extend the current analysis to other authors or to more works by the same author.</li>
<li>Are there better ways to compare the distribution of word length? Are there changes across time? Are there differences between different types of works (e.g., fiction vs. non-fiction, prose vs. poetry)?</li>
</ol>
</div>
<div id="final-words" class="section level2" number="1.6">
<h2>
<span class="header-section-number">1.6</span> Final Words<a class="anchor" aria-label="anchor" href="#final-words"><i class="fas fa-link"></i></a>
</h2>
<p>As will often be the case, we won’t be able to cover every single feature that the different packages have to offer, show every object we create, or explore everything we can do with them. My advice is that you go home and explore the code in detail. Try applying it to a different corpus and come to the next class with questions (or just show off what you were able to do).</p>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="final_paper.html">Final Paper</a></div>
<div class="next"><a href="week2.html"><span class="header-section-number">2</span> Week 2: Tokenization and Word Frequency</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#week1"><span class="header-section-number">1</span> Week 1: A Primer on Using Text as Data</a></li>
<li><a class="nav-link" href="#slides">Slides</a></li>
<li><a class="nav-link" href="#setup"><span class="header-section-number">1.1</span> Setup</a></li>
<li><a class="nav-link" href="#get-data"><span class="header-section-number">1.2</span> Get Data</a></li>
<li><a class="nav-link" href="#word-length-in-wildes-corpus"><span class="header-section-number">1.3</span> Word Length in Wilde’s Corpus</a></li>
<li><a class="nav-link" href="#comparing-shakespeare-and-wilde"><span class="header-section-number">1.4</span> Comparing Shakespeare and Wilde</a></li>
<li><a class="nav-link" href="#exercise-optional"><span class="header-section-number">1.5</span> Exercise (Optional)</a></li>
<li><a class="nav-link" href="#final-words"><span class="header-section-number">1.6</span> Final Words</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/svallejovera/cta_updated/blob/master/05-week1.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/svallejovera/cta_updated/edit/master/05-week1.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>PS9594: Computational Text Analysis</strong>" was written by Dr. Sebastián Vallejo Vera | Western University. It was last built on 2026-01-26.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
